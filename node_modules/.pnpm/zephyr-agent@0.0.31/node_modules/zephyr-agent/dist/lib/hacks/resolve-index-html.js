"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.onIndexHtmlResolved = exports.resolveIndexHtml = void 0;
const node_events_1 = require("node:events");
const logging_1 = require("../logging");
const _index_html_emitted = new node_events_1.EventEmitter();
const _event_name = 'index-html-resolved';
function resolveIndexHtml(content) {
    (0, logging_1.ze_log)('Index HTML resolved');
    _index_html_emitted.emit(_event_name, content);
}
exports.resolveIndexHtml = resolveIndexHtml;
async function onIndexHtmlResolved() {
    return new Promise((resolve, reject) => {
        (0, logging_1.ze_log)('Waiting for index HTML to be resolved');
        // wait for 1 minute (just in case)
        setTimeout(reject, 60000);
        _index_html_emitted.once(_event_name, resolve);
    });
}
exports.onIndexHtmlResolved = onIndexHtmlResolved;
//# sourceMappingURL=resolve-index-html.js.map