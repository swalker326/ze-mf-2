"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeAppDeployResult = exports.getAppDeployResult = exports.setAppDeployResult = void 0;
const node_persist_1 = require("node-persist");
const node_path_1 = require("node:path");
const node_os_1 = require("node:os");
const storage_keys_1 = require("./storage-keys");
const storage = (0, node_persist_1.init)({
    dir: (0, node_path_1.join)((0, node_os_1.homedir)(), storage_keys_1.ZE_PATH),
});
async function setAppDeployResult(application_uid, value) {
    await storage;
    void (await (0, node_persist_1.setItem)(`${storage_keys_1.StorageKeys.ze_app_deploy_result}:${application_uid}`, value, {
        ttl: 1000 * 60 * 60 * 24,
    }));
}
exports.setAppDeployResult = setAppDeployResult;
async function getAppDeployResult(application_uid) {
    await storage;
    return (0, node_persist_1.getItem)(`${storage_keys_1.StorageKeys.ze_app_deploy_result}:${application_uid}`);
}
exports.getAppDeployResult = getAppDeployResult;
async function removeAppDeployResult(application_uid) {
    await storage;
    await (0, node_persist_1.removeItem)(`${storage_keys_1.StorageKeys.ze_app_deploy_result}:${application_uid}`);
}
exports.removeAppDeployResult = removeAppDeployResult;
//# sourceMappingURL=app-deploy-result-cache.js.map