"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setPackageJsonCache = exports.getPackageJsonCache = void 0;
const zephyr_edge_contract_1 = require("zephyr-edge-contract");
const fs_cache_1 = require("../node-persist/fs-cache");
const cache_prefix = 'package_json';
async function getPackageJsonCache(startingPath) {
    const cache_key = `${cache_prefix}:${startingPath}`;
    const cached = await (0, fs_cache_1.getCache)(cache_key);
    if (!cached)
        return;
    return (0, zephyr_edge_contract_1.safe_json_parse)(cached);
}
exports.getPackageJsonCache = getPackageJsonCache;
async function setPackageJsonCache(startingPath, parsed_package_json) {
    const cache_key = `${cache_prefix}:${startingPath}`;
    await (0, fs_cache_1.saveCache)(cache_key, JSON.stringify(parsed_package_json));
}
exports.setPackageJsonCache = setPackageJsonCache;
//# sourceMappingURL=fs-cache-for-package-json.js.map